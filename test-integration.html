<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Google Meet Recorder - Integration Test</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="session-history.css">
</head>
<body>
    <div class="app-container">
        <h1>Integration Test Page</h1>
        <p>This test page verifies all components work together properly.</p>
        
        <!-- Theme Toggle Test -->
        <div class="test-section">
            <h2>Theme Toggle Test</h2>
            <button id="themeToggle" class="theme-toggle" title="Toggle theme">
                <svg class="theme-icon theme-icon-light" width="20" height="20" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="5"/>
                    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                </svg>
                <svg class="theme-icon theme-icon-dark" width="20" height="20" viewBox="0 0 24 24">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </button>
        </div>
        
        <!-- Button Test -->
        <div class="test-section">
            <h2>Button Test</h2>
            <button class="record-button">
                <svg class="record-icon" width="24" height="24" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="8"/>
                </svg>
                <span>Record Button</span>
            </button>
            <button class="btn btn-primary">Primary Button</button>
            <button class="btn btn-secondary">Secondary Button</button>
            <button class="btn btn-danger">Danger Button</button>
        </div>
        
        <!-- Modal Test -->
        <div class="test-section">
            <h2>Modal Test</h2>
            <button onclick="showTestModal()">Open Modal</button>
        </div>
        
        <!-- Floating Panel Test -->
        <div class="test-section">
            <h2>Floating Panel Test</h2>
            <button onclick="showFloatingPanel()">Show Floating Panel</button>
        </div>
        
        <!-- Status Test -->
        <div class="test-section">
            <h2>Status Test</h2>
            <div id="recordingStatus" class="recording-status">
                <span class="status-dot"></span>
                <span class="status-text">Ready to record</span>
            </div>
        </div>
    </div>

    <!-- Test Modal -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Test Modal</h3>
                <button class="modal-close" onclick="hideTestModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>This is a test modal to verify modal functionality.</p>
            </div>
        </div>
    </div>

    <!-- Test Floating Panel -->
    <div id="testFloatingPanel" class="floating-action-panel">
        <div class="floating-panel-stats">
            <span class="stats-dot"></span>
            <span>5</span> entries
        </div>
        <button class="floating-action-button">
            <svg width="18" height="18" viewBox="0 0 24 24">
                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
            </svg>
            <span class="button-text">Export</span>
        </button>
        <button class="floating-action-button secondary">
            <svg width="18" height="18" viewBox="0 0 24 24">
                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
            </svg>
            <span class="button-text">Clear</span>
        </button>
    </div>

    <script>
        // Test theme toggle
        document.getElementById('themeToggle').addEventListener('click', function() {
            const currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            
            const lightIcon = document.querySelector('.theme-icon-light');
            const darkIcon = document.querySelector('.theme-icon-dark');
            
            if (newTheme === 'dark') {
                lightIcon.style.display = 'none';
                darkIcon.style.display = 'block';
            } else {
                lightIcon.style.display = 'block';
                darkIcon.style.display = 'none';
            }
        });

        // Test modal functions
        function showTestModal() {
            const modal = document.getElementById('testModal');
            modal.style.display = 'flex';
            modal.offsetHeight; // Force reflow
            modal.classList.add('show');
        }

        function hideTestModal() {
            const modal = document.getElementById('testModal');
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Test floating panel
        function showFloatingPanel() {
            const panel = document.getElementById('testFloatingPanel');
            panel.style.display = 'flex';
            panel.offsetHeight; // Force reflow
            panel.classList.add('show');
        }

        // ESC key handler
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                hideTestModal();
            }
        });

        // Click outside modal to close
        document.getElementById('testModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideTestModal();
            }
        });

        console.log('Integration test page loaded');
    </script>
</body>
</html>